[2025-07-25] Source URL: https://developers.google.com/workspace/gmail/api/reference/rest/v1/users.history/list

이 페이지는 Cloud Translation API [https://cloud.google.com/translate/?hl=ko]를 통해 번역되었습니다.
Switch to English
홈 [https://developers.google.com/?hl=ko]
Google Workspace [https://developers.google.com/workspace?hl=ko]
Gmail [https://developers.google.com/workspace/gmail?hl=ko]
참조 [https://developers.google.com/workspace/gmail/api/reference/rest?hl=ko]
의견 보내기
Method: users.history.list
bookmark_border
이 페이지의 내용
HTTP 요청 [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users.history/list?hl=ko#http-request]
경로 매개변수 [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users.history/list?hl=ko#path-parameters]
쿼리 매개변수 [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users.history/list?hl=ko#query-parameters]
요청 본문 [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users.history/list?hl=ko#request-body]
응답 본문 [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users.history/list?hl=ko#response-body]
지정된 우편함의 모든 변경사항 기록을 표시합니다. 기록 결과는 시간순으로 반환됩니다 (historyId 증가).
HTTP 요청
GET https://gmail.googleapis.com/gmail/v1/users/{userId}/history
URL은 gRPC 트랜스코딩 [https://google.aip.dev/127] 문법을 사용합니다.
경로 매개변수
매개변수
userId
string
사용자의 이메일 주소 인증된 사용자를 나타내는 데 특수 값 me을 사용할 수 있습니다.
쿼리 매개변수
매개변수
maxResults
integer (uint32 [https://developers.google.com/discovery/v1/type-format?hl=ko] format)
반환할 최대 기록 수입니다. 이 필드의 기본값은 100입니다. 이 필드의 최대 허용 값은 500입니다.
pageToken
string
목록에서 특정 결과 페이지를 검색하는 페이지 토큰입니다.
startHistoryId
string
필수 항목입니다. 지정된 startHistoryId 이후의 기록을 반환합니다. 제공된 startHistoryId는 메시지, 대화목록 또는 이전 list 응답의 historyId에서 가져와야 합니다. 기록 ID는 시간순으로 증가하지만 유효한 ID 사이에 무작위 간격이 있어 연속적이지 않습니다. 잘못되었거나 오래된 startHistoryId를 제공하면 일반적으로 HTTP 404 오류 코드가 반환됩니다. historyId는 일반적으로 일주일 이상 유효하지만 드물게 몇 시간 동안만 유효할 수도 있습니다. HTTP 404 오류 응답이 수신되면 애플리케이션에서 전체 동기화를 실행해야 합니다. 응답에 nextPageToken가 없으면 가져올 업데이트가 없으며 나중에 요청할 때 반환된 historyId를 저장할 수 있습니다.
labelId
string
ID와 일치하는 라벨이 있는 메시지만 반환합니다.
historyTypes[]
enum (HistoryType [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users.history/list?hl=ko#HistoryType])
함수에서 반환할 기록 유형
요청 본문
요청 본문은 비어 있어야 합니다.
응답 본문
성공한 경우 응답 본문은 다음과 같은 구조의 데이터를 포함합니다.
JSON 표현
{
  "history": [
    {
      object (History [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users.history/list?hl=ko#History])
    }
  ],
  "nextPageToken": string,
  "historyId": string
}
필드
history[]
object (History [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users.history/list?hl=ko#History])
기록 레코드 목록입니다. 응답에 포함된 모든 messages에는 일반적으로 id 및 threadId 필드만 채워집니다.
nextPageToken
string
목록에서 결과의 다음 페이지를 가져오는 페이지 토큰입니다.
historyId
string
우편함의 현재 기록 레코드 ID입니다.
승인 범위
다음 OAuth 범위 중 하나가 필요합니다.
https://mail.google.com/
https://www.googleapis.com/auth/gmail.modify
https://www.googleapis.com/auth/gmail.readonly
https://www.googleapis.com/auth/gmail.metadata
자세한 내용은 승인 가이드 [https://developers.google.com/workspace/guides/configure-oauth-consent?hl=ko]를 참고하세요.
HistoryType
열거형
messageAdded
messageDeleted
labelAdded
labelRemoved
기록
사용자의 우편함 변경 기록입니다. 각 기록 변경사항은 여러 가지 방법으로 여러 메시지에 영향을 미칠 수 있습니다.
JSON 표현
{
  "id": string,
  "messages": [
    {
      object (Message [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users.messages?hl=ko#Message])
    }
  ],
  "messagesAdded": [
    {
      object (MessageAdded [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users.history/list?hl=ko#MessageAdded])
    }
  ],
  "messagesDeleted": [
    {
      object (MessageDeleted [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users.history/list?hl=ko#MessageDeleted])
    }
  ],
  "labelsAdded": [
    {
      object (LabelAdded [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users.history/list?hl=ko#LabelAdded])
    }
  ],
  "labelsRemoved": [
    {
      object (LabelRemoved [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users.history/list?hl=ko#LabelRemoved])
    }
  ]
}
필드
id
string
우편함 시퀀스 ID입니다.
messages[]
object (Message [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users.messages?hl=ko#Message])
이 기록에서 변경된 메시지 목록입니다. messagesAdded와 같은 특정 변경 유형의 필드는 이 필드의 메시지를 중복할 수 있습니다. 대신 특정 변경 유형 필드를 사용하는 것이 좋습니다.
messagesAdded[]
object (MessageAdded [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users.history/list?hl=ko#MessageAdded])
이 기록의 보관함에 추가된 메시지입니다.
messagesDeleted[]
object (MessageDeleted [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users.history/list?hl=ko#MessageDeleted])
이 기록 레코드의 보관함에서 삭제된 (휴지통에 넣지 않은) 메시지입니다.
labelsAdded[]
object (LabelAdded [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users.history/list?hl=ko#LabelAdded])
이 기록의 메시지에 추가된 라벨입니다.
labelsRemoved[]
object (LabelRemoved [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users.history/list?hl=ko#LabelRemoved])
이 기록의 메시지에서 라벨이 삭제되었습니다.
MessageAdded
JSON 표현
{
  "message": {
    object (Message [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users.messages?hl=ko#Message])
  }
}
필드
message
object (Message [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users.messages?hl=ko#Message])
MessageDeleted
JSON 표현
{
  "message": {
    object (Message [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users.messages?hl=ko#Message])
  }
}
필드
message
object (Message [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users.messages?hl=ko#Message])
LabelAdded
JSON 표현
{
  "message": {
    object (Message [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users.messages?hl=ko#Message])
  },
  "labelIds": [
    string
  ]
}
필드
message
object (Message [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users.messages?hl=ko#Message])
labelIds[]
string
메시지에 추가된 라벨 ID입니다.
LabelRemoved
JSON 표현
{
  "message": {
    object (Message [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users.messages?hl=ko#Message])
  },
  "labelIds": [
    string
  ]
}
필드
message
object (Message [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users.messages?hl=ko#Message])
labelIds[]
string
메일에서 라벨 ID가 삭제되었습니다.
의견 보내기