[2025-07-25] Source URL: https://developers.google.com/workspace/gmail/api/reference/rest/v1/users/watch

이 페이지는 Cloud Translation API [https://cloud.google.com/translate/?hl=ko]를 통해 번역되었습니다.
Switch to English
홈 [https://developers.google.com/?hl=ko]
Google Workspace [https://developers.google.com/workspace?hl=ko]
Gmail [https://developers.google.com/workspace/gmail?hl=ko]
참조 [https://developers.google.com/workspace/gmail/api/reference/rest?hl=ko]
의견 보내기
Method: users.watch
bookmark_border
이 페이지의 내용
HTTP 요청 [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users/watch?hl=ko#http-request]
경로 매개변수 [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users/watch?hl=ko#path-parameters]
요청 본문 [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users/watch?hl=ko#request-body]
응답 본문 [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users/watch?hl=ko#response-body]
승인 범위 [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users/watch?hl=ko#authorization-scopes]
LabelFilterAction [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users/watch?hl=ko#labelfilteraction]
지정된 사용자 메일함에서 푸시 알림 보기를 설정하거나 업데이트합니다.
HTTP 요청
POST https://gmail.googleapis.com/gmail/v1/users/{userId}/watch
URL은 gRPC 트랜스코딩 [https://google.aip.dev/127] 문법을 사용합니다.
경로 매개변수
매개변수
userId
string
사용자의 이메일 주소 인증된 사용자를 나타내는 데 특수 값 me을 사용할 수 있습니다.
요청 본문
요청 본문에는 다음과 같은 구조의 데이터가 포함됩니다.
JSON 표현
{
  "labelIds": [
    string
  ],
  "labelFilterAction": enum (LabelFilterAction [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users/watch?hl=ko#LabelFilterAction]),
  "labelFilterBehavior": enum (LabelFilterAction [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users/watch?hl=ko#LabelFilterAction]),
  "topicName": string
}
필드
labelIds[]
string
알림을 제한할 labelId 목록입니다. 지정하지 않으면 기본적으로 모든 변경사항이 푸시됩니다. 지정된 경우 푸시 알림을 생성하는 데 필요한 라벨을 지정합니다.
labelFilterAction
(deprecated)
enum (LabelFilterAction [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users/watch?hl=ko#LabelFilterAction])
지정된 labelIds list의 필터링 동작 이 필드는 경우에 따라 잘못된 동작을 일으켰기 때문에 지원 중단되었습니다. 대신 labelFilterBehavior를 사용하세요.
labelFilterBehavior
enum (LabelFilterAction [https://developers.google.com/workspace/gmail/api/reference/rest/v1/users/watch?hl=ko#LabelFilterAction])
지정된 labelIds list의 필터링 동작 이 필드는 labelFilterAction를 대체합니다. 설정하면 labelFilterAction가 무시됩니다.
topicName
string
이벤트를 게시할 전체 Google Cloud Pub/Sub API 주제 이름입니다. 이 주제 이름은 이미 Cloud Pub/Sub에 존재해야 하며 이미 Gmail에 '게시' 권한을 부여한 상태여야 합니다. 예를 들어 'projects/my-project-identifier/topics/my-topic-name' (Cloud Pub/Sub 'v1' 주제 이름 지정 형식 사용)입니다.
'my-project-identifier' 부분은 Google 개발자 프로젝트 ID (이 보기 요청을 실행하는 프로젝트 ID)와 정확히 일치해야 합니다.
응답 본문
푸시 알림 시계 응답
성공한 경우 응답 본문은 다음과 같은 구조의 데이터를 포함합니다.
JSON 표현
{
  "historyId": string,
  "expiration": string
}
필드
historyId
string
우편함의 현재 기록 레코드 ID입니다.
expiration
string (int64 [https://developers.google.com/discovery/v1/type-format?hl=ko] format)
Gmail에서 우편함 업데이트 알림을 더 이상 전송하지 않는 시점 (에포크 밀리초)입니다. 이 시간 전에 watch를 다시 호출하여 시계를 갱신합니다.
승인 범위
다음 OAuth 범위 중 하나가 필요합니다.
https://mail.google.com/
https://www.googleapis.com/auth/gmail.modify
https://www.googleapis.com/auth/gmail.readonly
https://www.googleapis.com/auth/gmail.metadata
자세한 내용은 승인 가이드 [https://developers.google.com/workspace/guides/configure-oauth-consent?hl=ko]를 참고하세요.
LabelFilterAction
지정된 labelIds 목록의 필터링 동작
열거형
include 지정된 labelId와 관련된 메시지 변경사항에 대한 푸시 알림만 받습니다.
exclude 지정된 labelIds와 관련된 변경사항을 제외한 모든 메시지 변경사항에 대한 푸시 알림을 받습니다.
의견 보내기